import{c as _,o as g,f as h,d as Z,k as u,B as j,x as q,R as T,z as U,aV as P,r,e as l,i as n,w as F,u as a,a9 as G,E as I,S as v,g as m,t as $,C as J,_ as K}from"./index-DLbSnZ-2.js";import{a as Q}from"./dept-CNyEMDwu.js";import{d as W}from"./git-branch-line-BhusJOme.js";import{d as X}from"./search-DMYzPYXy.js";const Y={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795Z"/>'},ee={width:24,height:24,body:'<path fill="currentColor" d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0 14c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Z"/>'},te={width:1024,height:1024,body:'<path fill="currentColor" d="M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"/><path fill="currentColor" d="M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"/>'},le={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},oe={width:"32",height:"32",viewBox:"0 0 24 24"};function ne(x,s){return g(),_("svg",oe,s[0]||(s[0]=[h("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1)]))}const ae={render:ne},re={width:"32",height:"32",viewBox:"0 0 24 24"};function se(x,s){return g(),_("svg",re,s[0]||(s[0]=[h("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1)]))}const ie={render:se},de={class:"h-full bg-bg_color overflow-auto",style:{minHeight:"calc(100vh - 133px)"}},ce={class:"flex items-center h-[56px]"},ue=Z({__name:"tree",props:{modelValue:{type:Number,required:!0}},setup(x){const s=u(),w=u([]),p=u(!0),d=u(""),i=u({}),{proxy:y}=j(),N={children:"children",label:"deptName"},C=q(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),E=(t,e)=>t?e.deptName.includes(t):!0;function R(t){var o;const e=t.$treeNodeId;i.value[e]=(o=i.value[e])!=null&&o.highlight?Object.assign({id:e},i.value[e],{highlight:!1}):Object.assign({id:e},i.value[e],{highlight:!0}),Object.values(i.value).forEach(f=>{f.id!==e&&(f.highlight=!1)}),y.$emit("update:modelValue",t.id)}function b(t){p.value=t;const e=y.$refs.treeRef.store._getAllNodes();for(let o=0;o<e.length;o++)e[o].expanded=t}function B(){i.value={},d.value="",b(!0)}return T(d,t=>{s.value.filter(t)}),U(async()=>{const{data:t}=await Q();w.value=P(t)}),(t,e)=>{const o=r("IconifyIconOffline"),f=r("el-icon"),O=r("el-input"),z=r("el-button"),k=r("el-dropdown-item"),S=r("el-dropdown-menu"),A=r("el-dropdown"),D=r("el-divider"),L=r("el-tree");return g(),_("div",de,[h("div",ce,[e[3]||(e[3]=h("p",{class:"flex-1 ml-2 font-bold text-base truncate",title:"部门列表"}," 部门列表 ",-1)),l(O,{style:{flex:"2"},size:"default",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=c=>d.value=c),placeholder:"请输入部门名称",clearable:""},{suffix:n(()=>[l(f,{class:"el-input__icon"},{default:n(()=>[F(l(o,{icon:a(X)},null,8,["icon"]),[[G,d.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),l(A,{"hide-on-click":!1},{dropdown:n(()=>[l(S,null,{default:n(()=>[l(k,null,{default:n(()=>[l(z,{class:v(C.value),link:"",type:"primary",icon:a(I)(p.value?a(ae):a(ie)),onClick:e[1]||(e[1]=c=>b(!p.value))},{default:n(()=>[m($(p.value?"折叠全部":"展开全部"),1)]),_:1},8,["class","icon"])]),_:1}),l(k,null,{default:n(()=>[l(z,{class:v(C.value),link:"",type:"primary",icon:a(I)(a(Y)),onClick:B},{default:n(()=>e[2]||(e[2]=[m(" 重置状态 ")])),_:1,__:[2]},8,["class","icon"])]),_:1})]),_:1})]),default:n(()=>[l(o,{class:"w-[38px] cursor-pointer",width:"20px",icon:a(ee)},null,8,["icon"])]),_:1})]),l(D),l(L,{ref_key:"treeRef",ref:s,data:w.value,"node-key":"id",size:"default",props:N,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":E,onNodeClick:R},{default:n(({node:c,data:V})=>{var H,M;return[h("span",{class:v(["text-base","flex","items-center","tracking-wider","gap-2","select-none",d.value.trim().length>0&&c.label.includes(d.value)&&"text-red-500",(H=i.value[c.id])!=null&&H.highlight?"dark:text-primary":""]),style:J({background:(M=i.value[c.id])!=null&&M.highlight?"var(--el-color-primary-light-7)":"transparent"})},[l(o,{icon:V.parentId===0?a(te):V.type===2?a(le):a(W)},null,8,["icon"]),m(" "+$(c.label),1)],6)]}),_:1},8,["data"])])}}}),me=K(ue,[["__scopeId","data-v-01f5e81d"]]);export{me as default};
