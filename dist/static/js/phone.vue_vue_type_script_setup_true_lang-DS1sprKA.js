import{M as d}from"./motion-C_Wa_q6C.js";import{d as h,k as v,l as B,r as i,h as N,o as P,u as o,i as t,e as l,E as g,f as R,g as _,t as z,aE as F}from"./index-DLbSnZ-2.js";import{p as $,d as D,u as c}from"./iphone-C7XGbbJ-.js";const E={class:"flex justify-between w-full"},M={name:"Phone"},L=h({...M,props:{currentPage:{type:Number,default:1}},emits:["update:currentPage"],setup(T,{emit:C}){const x=C,s=v(!1),a=B({phone:"",verifyCode:""}),f=v(),{isDisabled:V,text:y}=c(),b=async p=>{s.value=!0,p&&await p.validate((e,r)=>{if(e)setTimeout(()=>{F("登录成功",{type:"success"}),s.value=!1},2e3);else return s.value=!1,r})};function k(){c().end(),x("update:currentPage",0)}return(p,e)=>{const r=i("el-input"),u=i("el-form-item"),m=i("el-button"),w=i("el-form");return P(),N(w,{ref_key:"ruleFormRef",ref:f,model:a,rules:o($),size:"large"},{default:t(()=>[l(o(d),null,{default:t(()=>[l(u,{prop:"phone"},{default:t(()=>[l(r,{clearable:"",modelValue:a.phone,"onUpdate:modelValue":e[0]||(e[0]=n=>a.phone=n),placeholder:"手机号码","prefix-icon":o(g)(o(D))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),l(o(d),{delay:100},{default:t(()=>[l(u,{prop:"verifyCode"},{default:t(()=>[R("div",E,[l(r,{clearable:"",modelValue:a.verifyCode,"onUpdate:modelValue":e[1]||(e[1]=n=>a.verifyCode=n),placeholder:"短信验证码","prefix-icon":o(g)("ri:shield-keyhole-line")},null,8,["modelValue","prefix-icon"]),l(m,{disabled:o(V),class:"ml-2",onClick:e[2]||(e[2]=n=>o(c)().start(f.value,"phone"))},{default:t(()=>[_(z(o(y).length>0?o(y)+"秒后重新获取":"获取验证码"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),l(o(d),{delay:150},{default:t(()=>[l(u,null,{default:t(()=>[l(m,{class:"w-full",size:"default",type:"primary",loading:s.value,onClick:e[3]||(e[3]=n=>b(f.value))},{default:t(()=>e[4]||(e[4]=[_(" 登录 ")])),_:1,__:[4]},8,["loading"])]),_:1})]),_:1}),l(o(d),{delay:200},{default:t(()=>[l(u,null,{default:t(()=>[l(m,{class:"w-full",size:"default",onClick:k},{default:t(()=>e[5]||(e[5]=[_(" 返回 ")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{L as _};
