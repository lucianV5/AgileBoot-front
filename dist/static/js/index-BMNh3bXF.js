import{usePostHook as J}from"./hook-DVQ5P1JO.js";import{P as K}from"./index-A5l2LtVK.js";import{d as Q,m as W,k as d,r as n,c as L,o as C,e as t,i as a,u as e,F as X,A as Z,h,N as ee,E as i,g as s,_ as oe}from"./index-DLbSnZ-2.js";import{d as U}from"./delete-Ce0TSdK5.js";import{d as le}from"./search-DMYzPYXy.js";import{d as te}from"./refresh-C_2cW1e5.js";import{C as ae}from"./common-MP0nqKMS.js";import{_ as ne}from"./post-form-modal.vue_vue_type_script_setup_true_lang-BeLIeMJo.js";import{a as re,d as se}from"./add-circle-line-CH7bT49i.js";import"./post-CAgdbTIk.js";import"./epTheme-Cax6E919.js";import"./index-CqpMF8Ft.js";import"./VDialog-B5iLIfwi.js";const pe={class:"main"},ie=Q({name:"Post",__name:"index",setup(ue){const F=W().dictionaryList["common.status"],f=d(),b=d(),{searchFormParams:p,pageLoading:k,columns:y,dataList:V,pagination:N,timeRange:_,defaultSort:B,multipleSelection:D,onSearch:g,resetForm:E,onSortChanged:I,exportAllExcel:T,getPostList:x,handleDelete:Y,handleBulkDelete:z}=J(),S=d("add"),c=d(!1),$=d();function w(P,o){S.value=P,$.value=o,c.value=!0}return(P,o)=>{const R=n("el-input"),u=n("el-form-item"),A=n("el-option"),H=n("el-select"),M=n("el-date-picker"),r=n("el-button"),O=n("el-form"),j=n("el-popconfirm"),q=n("pure-table");return C(),L("div",pe,[t(O,{ref_key:"searchFormRef",ref:b,inline:!0,model:e(p),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:a(()=>[t(u,{label:"岗位编码",prop:"postCode"},{default:a(()=>[t(R,{modelValue:e(p).postCode,"onUpdate:modelValue":o[0]||(o[0]=l=>e(p).postCode=l),placeholder:"请输入岗位编码",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),t(u,{label:"岗位名称",prop:"postName"},{default:a(()=>[t(R,{modelValue:e(p).postName,"onUpdate:modelValue":o[1]||(o[1]=l=>e(p).postName=l),placeholder:"请选择岗位名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),t(u,{label:"状态：",prop:"status"},{default:a(()=>[t(H,{modelValue:e(p).status,"onUpdate:modelValue":o[2]||(o[2]=l=>e(p).status=l),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:a(()=>[(C(!0),L(X,null,Z(e(F),l=>(C(),h(A,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"创建时间"},{default:a(()=>[t(M,{class:"!w-[240px]",modelValue:e(_),"onUpdate:modelValue":o[3]||(o[3]=l=>ee(_)?_.value=l:null),"value-format":"YYYY-MM-DD",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])]),_:1}),t(u,null,{default:a(()=>[t(r,{type:"primary",icon:e(i)(e(le)),loading:e(k),onClick:o[4]||(o[4]=l=>e(g)(f.value))},{default:a(()=>o[11]||(o[11]=[s(" 搜索 ")])),_:1,__:[11]},8,["icon","loading"]),t(r,{icon:e(i)(e(te)),onClick:o[5]||(o[5]=l=>e(E)(b.value,f.value))},{default:a(()=>o[12]||(o[12]=[s(" 重置 ")])),_:1,__:[12]},8,["icon"])]),_:1})]),_:1},8,["model"]),t(e(K),{title:"岗位列表",columns:e(y),onRefresh:e(g)},{buttons:a(()=>[t(r,{type:"primary",icon:e(i)(e(se)),onClick:o[6]||(o[6]=l=>w("add"))},{default:a(()=>o[13]||(o[13]=[s(" 新增岗位 ")])),_:1,__:[13]},8,["icon"]),t(r,{type:"danger",icon:e(i)(e(U)),onClick:o[7]||(o[7]=l=>e(z)(f.value))},{default:a(()=>o[14]||(o[14]=[s(" 批量删除 ")])),_:1,__:[14]},8,["icon"]),t(r,{type:"primary",onClick:o[8]||(o[8]=l=>e(ae).exportExcel(e(y),e(V),"岗位列表"))},{default:a(()=>o[15]||(o[15]=[s("单页导出")])),_:1,__:[15]}),t(r,{type:"primary",onClick:e(T)},{default:a(()=>o[16]||(o[16]=[s("全部导出")])),_:1,__:[16]},8,["onClick"])]),default:a(({size:l,dynamicColumns:G})=>[t(q,{border:"",ref_key:"tableRef",ref:f,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(k),size:l,adaptive:"",data:e(V),columns:G,"default-sort":e(B),pagination:e(N),paginationSmall:l==="small","header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onPageSizeChange:e(x),onPageCurrentChange:e(x),onSortChange:e(I),onSelectionChange:o[9]||(o[9]=m=>D.value=m.map(v=>v.postId))},{operation:a(({row:m})=>[t(r,{class:"reset-margin",link:"",type:"primary",size:l,icon:e(i)(e(re)),onClick:v=>w("update",m)},{default:a(()=>o[17]||(o[17]=[s(" 编辑 ")])),_:2,__:[17]},1032,["size","icon","onClick"]),t(j,{title:`是否确认删除编号为${m.postId}的这个岗位`,onConfirm:v=>e(Y)(m)},{reference:a(()=>[t(r,{class:"reset-margin",link:"",type:"danger",size:l,icon:e(i)(e(U))},{default:a(()=>o[18]||(o[18]=[s(" 删除 ")])),_:2,__:[18]},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","default-sort","pagination","paginationSmall","onPageSizeChange","onPageCurrentChange","onSortChange"])]),_:1},8,["columns","onRefresh"]),t(ne,{modelValue:c.value,"onUpdate:modelValue":o[10]||(o[10]=l=>c.value=l),type:S.value,row:$.value,onSuccess:e(g)},null,8,["modelValue","type","row","onSuccess"])])}}}),Se=oe(ie,[["__scopeId","data-v-974de8b3"]]);export{Se as default};
