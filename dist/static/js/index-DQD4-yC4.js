import{useNoticeHook as H}from"./hook-Cecw2Eck.js";import{P as h}from"./index-A5l2LtVK.js";import{d as A,m as O,k,r as a,c as x,o as _,e as l,i as n,u as e,F as j,A as q,h as G,E as s,g as m,_ as J}from"./index-DLbSnZ-2.js";import{d as S}from"./delete-Ce0TSdK5.js";import{a as K,d as M}from"./add-circle-line-CH7bT49i.js";import{d as Q}from"./search-DMYzPYXy.js";import{d as W}from"./refresh-C_2cW1e5.js";import"./form.vue_vue_type_script_setup_true_lang-TxEhFG3h.js";import"./common-MP0nqKMS.js";import"./index-CqpMF8Ft.js";import"./epTheme-Cax6E919.js";const X={class:"main"},Y=A({name:"SystemNotice",__name:"index",setup(Z){const T=O().dictionaryList["sysNotice.noticeType"],u=k(),g=k(),{searchFormParams:r,pageLoading:b,columns:V,dataList:$,pagination:N,defaultSort:w,multipleSelection:P,onSearch:y,resetForm:R,openDialog:v,handleDelete:F,handleBulkDelete:L,getNoticeList:c}=H();return(ee,o)=>{const C=a("el-input"),d=a("el-form-item"),B=a("el-option"),I=a("el-select"),i=a("el-button"),U=a("el-form"),D=a("el-popconfirm"),z=a("pure-table");return _(),x("div",X,[l(U,{ref_key:"searchFormRef",ref:g,inline:!0,model:e(r),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:n(()=>[l(d,{label:"公告标题：",prop:"noticeTitle"},{default:n(()=>[l(C,{modelValue:e(r).noticeTitle,"onUpdate:modelValue":o[0]||(o[0]=t=>e(r).noticeTitle=t),placeholder:"请输入公告标题",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),l(d,{label:"公告类型：",prop:"noticeType"},{default:n(()=>[l(I,{modelValue:e(r).noticeType,"onUpdate:modelValue":o[1]||(o[1]=t=>e(r).noticeType=t),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:n(()=>[(_(!0),x(j,null,q(e(T),t=>(_(),G(B,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"创建者：",prop:"creatorName"},{default:n(()=>[l(C,{modelValue:e(r).creatorName,"onUpdate:modelValue":o[2]||(o[2]=t=>e(r).creatorName=t),placeholder:"请输入创建者",clearable:"",class:"!w-[180px]"},null,8,["modelValue"])]),_:1}),l(d,null,{default:n(()=>[l(i,{type:"primary",icon:e(s)(e(Q)),loading:e(b),onClick:e(y)},{default:n(()=>o[7]||(o[7]=[m(" 搜索 ")])),_:1,__:[7]},8,["icon","loading","onClick"]),l(i,{icon:e(s)(e(W)),onClick:o[3]||(o[3]=t=>e(R)(g.value,u.value))},{default:n(()=>o[8]||(o[8]=[m(" 重置 ")])),_:1,__:[8]},8,["icon"])]),_:1})]),_:1},8,["model"]),l(e(h),{title:"通知列表",columns:e(V),onRefresh:e(y)},{buttons:n(()=>[l(i,{type:"primary",icon:e(s)(e(M)),onClick:o[4]||(o[4]=t=>e(v)())},{default:n(()=>o[9]||(o[9]=[m(" 添加公告 ")])),_:1,__:[9]},8,["icon"]),l(i,{type:"danger",icon:e(s)(e(S)),onClick:o[5]||(o[5]=t=>e(L)(u.value))},{default:n(()=>o[10]||(o[10]=[m(" 批量删除 ")])),_:1,__:[10]},8,["icon"])]),default:n(({size:t,dynamicColumns:E})=>[l(z,{border:"",ref_key:"tableRef",ref:u,"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(b),size:t,adaptive:"",data:e($),columns:E,"default-sort":e(w),pagination:e(N),paginationSmall:t==="small","header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onPageSizeChange:e(c),onPageCurrentChange:e(c),onSortChange:e(c),onSelectionChange:o[6]||(o[6]=p=>P.value=p.map(f=>f.noticeId))},{operation:n(({row:p})=>[l(i,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(s)(e(K)),onClick:f=>e(v)("编辑",p)},{default:n(()=>o[11]||(o[11]=[m(" 修改 ")])),_:2,__:[11]},1032,["size","icon","onClick"]),l(D,{title:`是否确认删除编号为${p.noticeId}的这条数据`,onConfirm:f=>e(F)(p)},{reference:n(()=>[l(i,{class:"reset-margin",link:"",type:"danger",size:t,icon:e(s)(e(S))},{default:n(()=>o[12]||(o[12]=[m(" 删除 ")])),_:2,__:[12]},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","default-sort","pagination","paginationSmall","onPageSizeChange","onPageCurrentChange","onSortChange"])]),_:1},8,["columns","onRefresh"])])}}}),ue=J(Y,[["__scopeId","data-v-64910268"]]);export{ue as default};
